!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("lodash"),require("@angular/core"),require("@angular/common/http"),require("@angular/fire/firestore"),require("rxjs/operators"),require("moment")):"function"==typeof define&&define.amd?define("library-app",["exports","rxjs","lodash","@angular/core","@angular/common/http","@angular/fire/firestore","rxjs/operators","moment"],t):t((e=e||self)["library-app"]={},e.rxjs,e.lodash,e.ng.core,e.ng.common.http,e.ng.fire.firestore,e.rxjs.operators,e.moment)}(this,(function(e,t,n,a,r,i,o,s){"use strict";var c="default"in n?n.default:n;s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var u=function(e,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function l(e,t){function n(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var d;function p(e,t,n,a){var r,i=arguments.length,o=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function m(e,t,n,a){return new(n||(n=Promise))((function(r,i){function o(e){try{c(a.next(e))}catch(e){i(e)}}function s(e){try{c(a.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))}function h(e,t){var n,a,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&i[0]?a.return:i[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,i[1])).done)return r;switch(a=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],a=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o}(d=e.ENUM_TABLES||(e.ENUM_TABLES={})).courier="courier",d.customer="customer",d.delivery="delivery",d.meal="meal",d.order="order",d.order_item="order_item",d.point="point",d.restaurant="restaurant",d.delivery_status_history="delivery_status_history";var g,b=function(){function e(){this.unsubscribeAll()}return e.prototype.ngOnDestroy=function(){this.unsubscribeAll()},e.prototype.unsubscribeAll=function(){this._subscriptionList&&this._subscriptionList.unsubscribe(),this._subscriptionList=new t.Subscription},e.prototype.addSubscribes=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){e._subscriptionList.add(t)}))},e}(),y=function(){function e(e){e.hasOwnProperty("_raw")&&delete e._raw,this._raw=e}return e.prototype.copyInto=function(e){for(var t in e)this.hasOwnProperty(t)&&(this[t]=e[t])},e.prototype.getData=function(){var t=this,n={};return Object.keys(this).map((function(a){if(!(t[a]instanceof e)){switch(a){case"_raw":case"meals":case"items":return}n[a]=t[a]}})),n},e}(),v=function(e){function t(t){var n=e.call(this,t)||this;return n.id="",n.name="",n.vin="",n.driver_license="",n.email="",n.phone_no="",e.prototype.copyInto.call(n,t),n}return l(t,e),t}(y),_=function(e){function t(t){var n=e.call(this,t)||this;return n.id="",n.name="",n.address="",n.lat="",n.long="",n.phone_no="",n.email="",e.prototype.copyInto.call(n,t),n}return l(t,e),t}(y),S=function(e){function t(t){var n=e.call(this,t)||this;return n.id="",n.points=[],n.courier_id="",n.order_id="",n.status_history=[],n.currentStatus=null,e.prototype.copyInto.call(n,t),n}return l(t,e),t.prototype.setStatusHistory=function(e){this.status_history=e,this.currentStatus=n.maxBy(e,(function(e){return e.date_time}))},t}(y);(g=e.Delivery_Status||(e.Delivery_Status={}))[g.ORDERED=0]="ORDERED",g[g.PREPARING=1]="PREPARING",g[g.WAIT_FOR_PICK_UP=2]="WAIT_FOR_PICK_UP",g[g.DELIVERING=3]="DELIVERING",g[g.DELIVERED=4]="DELIVERED";var B,E=function(e){function t(t){var n=e.call(this,t)||this;return n.id="",n.status=null,n.delivery_id="",n.date_time=0,e.prototype.copyInto.call(n,t),n}return l(t,e),t}(y),k=function(e){function t(t){var n=e.call(this,t)||this;return n.id="",n.name="",n.description="",n.price=0,n.image="",n.restaurant_name="",e.prototype.copyInto.call(n,t),n}return l(t,e),t}(y),w=function(e){function t(t){var n=e.call(this,t)||this;return n.id="",n.date_time=0,n.restaurant_id="",n.customer_id="",n.total=0,e.prototype.copyInto.call(n,t),n}return l(t,e),t}(y),M=function(e){function t(t){var n=e.call(this,t)||this;return n.id="",n.order_id="",n.meal_id="",n.quantity=0,e.prototype.copyInto.call(n,t),n}return l(t,e),t}(y),A=function(){},D=function(e){function t(t){var n=e.call(this,t)||this;return n.id="",n.name="",n.address="",n.phone_no="",n.lat="",n.long="",n.meal_ids=[],n.meals=[],e.prototype.copyInto.call(n,t),n}return l(t,e),t}(y);!function(e){e.LESS="<",e.LESS_EQUAL="<=",e.EQUAL="==",e.GREATER=">",e.GREATER_EQUAL=">="}(B||(B={}));var C=function(){function e(e,t,n){this.key=e,this.operation=t,this.value=n}return e.OPERATIONS=B,e}(),T=function(){function e(e){this._HttpClient=e}return e.prototype.getJSON=function(e){return this._HttpClient.get(e)},e.ctorParameters=function(){return[{type:r.HttpClient}]},e.ɵprov=a.ɵɵdefineInjectable({factory:function(){return new e(a.ɵɵinject(r.HttpClient))},token:e,providedIn:"root"}),e=p([a.Injectable({providedIn:"root"})],e)}(),L=[{name:"McDonald's",address:"515 6th StNew Westminster, BC V3L 3B9",lat:"49.212271",long:"-122.918816",phone_no:"(604) 718-1172"},{name:"Indian Bombay Bistro",address:" 7558 6th St, Burnaby, BC V3N 3M3",lat:"49.223155",long:"-122.932605",phone_no:" (604) 553-1719"},{name:"Manjal South Indian Kitchen",address:"7613 Edmonds St, Burnaby, BC V3N 1B6",lat:"49.223281",long:"-122.943316",phone_no:" (604) 515-4230"},{name:"Bubble World",address:"601 Agnes St, New Westminster, BC V3M 1G9",lat:"49.204826",long:"-122.910192",phone_no:"(778) 397-7800"},{name:"Miku Vancouver",address:" 200 Granville St # 70, Vancouver, BC V6C 1S4",lat:"49.286826",long:"-123.112584",phone_no:"(604) 568-3900"},{name:"Banh Mi Bar",address:"722 Carnarvon St, New Westminster, BC V3M 6V4",lat:"49.202816",long:"-122.911051",phone_no:"(604) 553-9966"},{name:"De Dutch Pannekoek House",address:"1035 Columbia St #102, New Westminster, BC V3M 1C4",lat:"49.200451",long:"-122.917861",phone_no:"(604) 521-2288"},{name:"Pizza Hut",address:"7515 Market Crossing #170, Burnaby, BC V5J 0A3",lat:"49.198050",long:"-122.978744",phone_no:" (604) 433-8424"},{name:"Donair & Sub House",address:"7634 6th St, Burnaby, BC V3N 3M5",lat:"49.222195",long:"-122.931487",phone_no:"(604) 525-5108"},{name:"Subway",address:"7155 Kingsway Suite# 110, Burnaby, BC V5E 2V1",lat:"49.218681",long:"-122.956770",phone_no:"(604) 759-0016"}],j=[{name:"Lizette Scourge",vin:"WVGAV7AX1CW622064",driver_license:9470107268,email:"lscourge0@php.net",phone_no:"633-385-2282"},{name:"Constantina Jude",vin:"WAUKF68E15A253661",driver_license:2897719788,email:"cjude1@amazon.co.jp",phone_no:"100-897-4918"},{name:"Elvis Kee",vin:"JH4CU4F41BC617894",driver_license:4368855612,email:"ekee2@house.gov",phone_no:"314-262-4369"},{name:"Bryce Barck",vin:"WBA3B1C59EF926774",driver_license:933161220,email:"bbarck3@yellowpages.com",phone_no:"749-951-5984"},{name:"Wyn Elleton",vin:"1GYS4GEF3DR541915",driver_license:2959453573,email:"welleton4@ask.com",phone_no:"767-563-9023"},{name:"Patrice Costello",vin:"KM8NU4CC9AU096286",driver_license:3432604998,email:"pcostello5@un.org",phone_no:"722-500-6965"},{name:"Tammy Lahiff",vin:"2C3CCAJG7DH396665",driver_license:426260708,email:"tlahiff6@ibm.com",phone_no:"458-277-8003"},{name:"Heddi Garci",vin:"3D7TP2HT6AG956637",driver_license:432395245,email:"hgarci7@google.co.jp",phone_no:"826-314-5170"},{name:"Maryann Matthew",vin:"5UXKR0C56F0833637",driver_license:7489646901,email:"mmatthew8@soundcloud.com",phone_no:"209-327-5368"},{name:"Inessa Ewells",vin:"1FTWW3B55AE261371",driver_license:9318168349,email:"iewells9@dell.com",phone_no:"323-249-1314"}],I=[{name:"Big Mac Extra Value Meal",description:"Nothing compares to two 100% Canadian beef patties, special sauce, crisp lettuce, processed cheddar cheese, pickles and onions on a toasted sesame seed bun.",price:9.59,image:"https://restaurants-static.skipthedishes.com/images/resized/medium-36a1f57fe155b3711615.jpg",restaurant_name:"McDonald's"},{name:"BLT with Crispy Chicken Extra Value Meal",description:"Made with Canadian grain-fed chicken breast, with two full strips of bacon, crisp lettuce, tomato & creamy Mayo-Style Sauce on a Brioche-style bun. Grilled or crispy. It’s like seriously good chicken.",price:11.19,image:"https://restaurants-static.skipthedishes.com/images/resized/medium-16f31925e82e69d1c2c3.jpg",restaurant_name:"McDonald's"},{name:"Quarter Pounder with Cheese Extra Value Meal",description:"A quarter pound of 100% Canadian beef and two slices of melting processed cheddar cheese on a toasted sesame seed bun. That’s pure Canadian beefy cheesiness. Order today!",price:9.59,image:"https://restaurants-static.skipthedishes.com/images/resized/medium-949e054bbf45e5511ea7.jpg",restaurant_name:"McDonald's"},{name:"McChicken Extra Value Meal",description:"Breaded seasoned chicken and crisp lettuce, topped with our Mayo-Style Sauce. Some ingredients are just meant to be together.",price:9.19,image:"https://restaurants-static.skipthedishes.com/images/resized/medium-70e6f49aa0e8043831a8.jpg",restaurant_name:"McDonald's"},{name:"10 McNuggets Extra Value Meal",description:"No artificial flavours, colours or preservatives. Made with 100% seasoned chicken breast, the Chicken McNuggets you crave are still simply delicious, and a good source of protein*. *10 g of protein per 4-piece serving.",price:10.79,image:"https://restaurants-static.skipthedishes.com/images/resized/medium-1de2df62362a5dbc7841.jpg",restaurant_name:"McDonald's"},{name:"Paneer Pakora",description:"Fresh, homemade cheese marinated in yogurt, ginger, and garlic, dipped in chickpea batter and deep fried.",price:9.95,image:"",restaurant_name:"Indian Bombay Bistro"},{name:"Tandoori Chicken",description:"Chicken marinated in traditional spices and cooked to perfection.",price:14.95,image:"",restaurant_name:"Indian Bombay Bistro"},{name:"Indian Bombay Bistro Dinner",description:"This delicious dinner includes one plain naan, your choice of chicken curry or yellow dal fry, a small order of tandoori chicken, a small order of chicken tikka, and a lamb kebab.",price:24.95,image:"",restaurant_name:"Indian Bombay Bistro"},{name:"Mattar Paneer",description:"Fresh, homemade cheese and green peas in an onion and tomato-based sauce flavoured with traditional Indian spices.",price:12.95,image:"",restaurant_name:"Indian Bombay Bistro"},{name:"Chicken Curry",description:"Tender chunks of chicken in a homemade curry sauce",price:13.95,image:"",restaurant_name:"Indian Bombay Bistro"},{name:"Tandoori Roti",description:"Unleavened bread baked in a tandoor oven.",price:1.95,image:"",restaurant_name:"Indian Bombay Bistro"},{name:"Pulao Rice",description:"Perfectly cooked long grain rice with peas and spices.",price:5.95,image:"",restaurant_name:"Indian Bombay Bistro"},{name:"Plain Idli (2 Pcs.)",description:"Vegan. Savory steamed cake made from a batter of fermented black lentils and rice. Served with sambhar (a spicy lentil soup) and chutneys.",price:6.99,image:"https://d1ralsognjng37.cloudfront.net/572f01c6-0891-4bf0-b8fb-fbb2c68331b2.jpeg",restaurant_name:"Manjal South Indian Kitchen"},{name:"Plain Dosa",description:"Vegan. Dosa, a popular South Indian breakfast choice, is a crisp savory crepe made from a batter of black lentils and rice. Served with sambhar and chutneys.",price:8.99,image:"https://d1ralsognjng37.cloudfront.net/8be71599-14db-47db-b9ce-fbeaebda83a0.jpeg",restaurant_name:"Manjal South Indian Kitchen"},{name:"Vegetable Biryani",description:"Vegetarian. Biriyani is a renowned Indian dish made from aromatic basmati rice and exotic spices and layered with vegetables. Served with a side of gravy and raita.",price:13.99,image:"https://d1ralsognjng37.cloudfront.net/49a96fd3-68b8-4f5c-9939-b8b52d08f499.jpeg",restaurant_name:"Manjal South Indian Kitchen"},{name:"Chicken Biryani",description:"Biriyani is a renowned Indian dish made from aromatic basmati rice and exotic spices and layered with chicken. Served with a side of gravy and raita.",price:15.99,image:"https://d1ralsognjng37.cloudfront.net/91a1adc9-fbfe-456a-9759-89a9e1082536.jpeg ",restaurant_name:"Manjal South Indian Kitchen"},{name:"Special Chicken 65 Biryani",description:"Spice level one. Biriyani is a renowned Indian dish made from aromatic basmati rice and exotic spices and layered with tossed chicken 65. Served with a side of gravy and raita.",price:15.99,image:"https://d1ralsognjng37.cloudfront.net/b1b87cea-46b6-4be7-b575-7406a6d0e771.jpeg",restaurant_name:"Manjal South Indian Kitchen"},{name:"Lamb Biryani",description:"Biriyani is a renowned Indian dish made from aromatic basmati rice and exotic spices and layered with curried lamb. Served with a side of gravy and raita",price:16.99,image:"https://d1ralsognjng37.cloudfront.net/5e860484-8386-4d14-aca0-d63cc53ffd0f.jpeg",restaurant_name:"Manjal South Indian Kitchen"},{name:"Chicken Pepper Masala",description:"Spice level three Chicken cooked in a delicious and spicy pepper masala",price:14.99,image:"https://d1ralsognjng37.cloudfront.net/06a4bb72-7d59-4dba-8329-8c979c26beae.jpeg",restaurant_name:"Manjal South Indian Kitchen"},{name:"Coconut Pudding",description:"Light, cool and refreshing agar-based coconut milk pudding",price:5.99,image:"https://d1ralsognjng37.cloudfront.net/e1cf5a21-e14b-4e8a-a371-a08ee74ae9e7.jpeg",restaurant_name:"Manjal South Indian Kitchen"},{name:"Kung Pao Chicken with Peanuts",description:"Kung Pao chicken, also transcribed as Gong Bao or Kung Po, is a spicy, stir-fried Chinese dish made with cubes of chicken, peanuts, vegetables, and chili peppers.",price:10.95,image:"https://d1ralsognjng37.cloudfront.net/84b276f7-3d57-4e46-936e-87a079c73db7.jpeg",restaurant_name:"Bubble World"},{name:"Hawaiian Fried Rice with Meat Floss",description:"Fried rice is a dish of cooked rice that has been stir-fried in a wok or a frying pan and is usually mixed with other ingredients such as eggs, vegetables and choice of your meat",price:11.95,image:"https://d1ralsognjng37.cloudfront.net/76d72a54-e637-46b1-a648-490b01fe8a63.jpeg",restaurant_name:"Bubble World"},{name:"Spicy Fish Hot Pot",description:"Comes with assorted fish, shrimp balls, tofu, enoki mushroom, and mixed vegetables. Served with a bowl of rice",price:14.75,image:"https://d1ralsognjng37.cloudfront.net/65f8afdb-c0ec-44f3-a275-3399867ecffc.jpeg",restaurant_name:"Bubble World"},{name:"Milky Chocolate Tea",description:"A decadent combination of rich, chocolatey, and nutty all in one",price:4.25,image:"https://d1ralsognjng37.cloudfront.net/fcdeb689-2e99-4cf0-ae8d-0581015e20fb.jpeg",restaurant_name:"Bubble World"},{name:"Milky Oreo Slush",description:"A super easy milkshake made with vanilla ice cream, milk, and Oreo cookies!",price:5,image:"https://d1ralsognjng37.cloudfront.net/bc4b69e6-d0c7-476c-9a49-8941a2d438e8.jpeg",restaurant_name:"Bubble World"},{name:"Honey Green Tea",description:"Rich and refreshing green tea with an added touch of honey",price:5.5,image:"https://d1ralsognjng37.cloudfront.net/2351bec7-fbee-4f24-adc1-08c8fc68d490.jpeg",restaurant_name:"Bubble World"},{name:"Salmon Oshi Sushi",description:"wild sockeye salmon, Miku sauce, jalapeño, 6 pieces",price:15,image:"",restaurant_name:"Miku Vancouver"},{name:"Ebi Oshi Sushi",description:"pressed prawn, ume Miku sauce, lime zest, 6 pieces",price:15,image:"",restaurant_name:"Miku Vancouver"},{name:"Saba Oshi Sushi",description:"house cured mackerel, miso sauce, 6 pieces",price:14,image:"",restaurant_name:"Miku Vancouver"},{name:"Aburi Sushi Bento",description:"Aburi Salmon Oshi, Aburi Ebi Oshi, Aburi Saba Oshi, Maguro Nigiri, Tai Nigiri, Hamachi Nigiri, Ebi Fritters, Chef's Seasonal Salad",price:24,image:"",restaurant_name:"Miku Vancouver"},{name:"Chef's Sushi Select",description:"Aburi Salmon Oshi, Aburi Ebi Oshi, Aburi Saba Oshi, Bincho Nigiri, Maguro Nigiri, 5 pieces",price:13,image:"",restaurant_name:"Miku Vancouver"},{name:"Chef's Deluxe Sushi Select",description:"Aburi Salmon Oshi, Aburi Ebi Oshi, Spicy Tuna Roll, Bincho Nigiri, Maguro Nigiri, Hamachi Nigiri, 8 pieces",price:18,image:"",restaurant_name:"Miku Vancouver"},{name:"THE CLASSIC",description:"Assorted Vietnamese cold cuts (steamed pork loaf, head cheese, pork shoulder) & house made pâté",price:12,image:"",restaurant_name:"Banh Mi Bar"},{name:"LEMONGRASS CHICKEN ",description:"House marinated chicken thighs + sweet-chili aioli",price:12,image:"",restaurant_name:"Banh Mi Bar"},{name:"BBQ PORK ",description:"Sweet barbequed pork + kimchi + house aioli",price:12,image:"",restaurant_name:"Banh Mi Bar"},{name:"HONEY GARLIC BEEF ",description:"Sliced top sirloin beef + garlic aioli",price:12,image:"",restaurant_name:"Banh Mi Bar"},{name:"GRILLED LEMONGRASS TOFU ",description:"House marinated grilled tofu + sweet-chili aioli",price:12,image:"",restaurant_name:"Banh Mi Bar"},{name:"Granola Pannekoek",description:"Vegetarian friendly. Cooked with granola and raisins or craisins inside and served with honey and hot cinnamony apples.",price:18.97,image:"",restaurant_name:"De Dutch Pannekoek House"},{name:"Abby Perogie Pannekoek",description:"DeBakon, hash browns, and onions inside topped with cheddar and cheese.",price:20.62,image:"",restaurant_name:"De Dutch Pannekoek House"},{name:"Meat Lovers Pannekoek",description:"DeBakon, ham, sausage, and turkey bacon inside with Dutch cheese and tomato garnish.",price:20.62,image:"",restaurant_name:"De Dutch Pannekoek House"},{name:"The Windmill Pannekoek",description:"Shaved smoked wild B.C. salmon, hollandaise sauce, and Dutch cheese, all on top.",price:24.75,image:"",restaurant_name:"De Dutch Pannekoek House"},{name:"Chocolate, Strawberry, and Whip Pannekoek",description:"Vegetarian friendly. Your choice of chocolate hail or Nutella.",price:18.97,image:"",restaurant_name:"De Dutch Pannekoek House"},{name:"6 Personal Hawaiian",description:"Ham, pineapple and extra pizza mozzarella",price:5.49,image:"",restaurant_name:"Pizza Hut"},{name:"6 Personal Veggie Lover's",description:"Sliced mushrooms, green pepper, red onion, tomato and pizza mozzarella",price:5.69,image:"",restaurant_name:"Pizza Hut"},{name:"9 Small Pepperoni Lovers",description:"Double pepperoni and extra pizza mozzarella.",price:13.99,image:"",restaurant_name:"Pizza Hut"},{name:"9 Small Cheese Lover's",description:"Extra pizza mozzarella and choose two of your favourite toppings Includes up to 2 free toppings.",price:14.29,image:"",restaurant_name:"Pizza Hut"},{name:"12 Medium Chicken Caesar",description:"Alfredo sauce, seasoned grilled chicken breast, bacon crumble, roasted garlic, parmesan and pizza mozzarella",price:19.49,image:"",restaurant_name:"Pizza Hut"},{name:"12 Medium Margherita",description:"Pesto marinated tomatoes, parmesan and pizza mozzarella",price:18.49,image:"",restaurant_name:"Pizza Hut"},{name:"14 Large Canadian",description:"Pepperoni, bacon crumble, sliced mushrooms and pizza mozzarella",price:22.99,image:"",restaurant_name:"Pizza Hut"},{name:"14 Large Veggie Lover's",description:"Sliced mushrooms, green pepper, red onion, tomato and pizza mozzarella",price:23.09,image:"",restaurant_name:"Pizza Hut"},{name:"XL Panormous Chicken Lovers",description:"Seasoned grilled chicken breast, green peppers, red onion, sliced mushroom and pizza mozzarella ",price:25.99,image:"",restaurant_name:"Pizza Hut"},{name:"XL Panormous Veggie Mediterranean",description:"Roasted red peppers, baby spinach, red onion, tomato, black olives, feta and pizza mozzarella",price:25.99,image:"",restaurant_name:"Pizza Hut"},{name:"Small Donair",description:"Experience Donair & Sub House's delicious donair meat or falafel in a pita bread! All donairs are served with your choice of beef, lamb, chicken, falafel, or mixed.",price:6.99,image:"",restaurant_name:"Donair & Sub House"},{name:"Medium Donair",description:"Experience Donair & Sub House's delicious donair meat or falafel in a pita bread! All donairs are served with your choice of beef, lamb, chicken, falafel, or mixed.",price:7.99,image:"",restaurant_name:"Donair & Sub House"},{name:"Large Donair",description:"Experience Donair & Sub House's delicious donair meat or falafel in a pita bread! All donairs are served with your choice of beef, lamb, chicken, falafel, or mixed.",price:8.99,image:"",restaurant_name:"Donair & Sub House"},{name:"Fries Special",description:"Experience Donair & Sub House's delicious donair meat or falafel on a fries with one or mixed sauces!",price:9.99,image:"",restaurant_name:"Donair & Sub House"},{name:"Poutine Special",description:"Experience Donair & Sub House's delicious donair meat or falafel on poutine!",price:11.99,image:"",restaurant_name:"Donair & Sub House"},{name:"6 Turkey Breast Sub",description:"Succulent sliced turkey breast with 4 grams of fat. No need to hold back. You can gobble it up guilt free!",price:5.99,image:"",restaurant_name:"Subway"},{name:"12 Turkey Breast Sub",description:"Succulent sliced turkey breast with 4 grams of fat. No need to hold back. You can gobble it up guilt free!",price:8.99,image:"",restaurant_name:"Subway"},{name:"6 Italian BMT Sub",description:"Thin slices of Genoa salami, pepperoni, and ham, together with processed cheddar cheese. Mmmmmm, it’ll just melt in your mouth.",price:5.99,image:"",restaurant_name:"Subway"},{name:"12 Italian BMT Sub",description:"Thin slices of Genoa salami, pepperoni, and ham, together with processed cheddar cheese. Mmmmmm, it’ll just melt in your mouth.",price:8.99,image:"",restaurant_name:"Subway"},{name:"6 Veggie Delite Sub",description:"A banquet to celebrate your healthy lifestyle, stuffed full of delicious cool, crisp vegetables. Contains 2.5 grams of fat.",price:4.49,image:"",restaurant_name:"Subway"},{name:"12 Veggie Delite Sub",description:"A banquet to celebrate your healthy lifestyle, stuffed full of delicious cool, crisp vegetables. Contains 2.5 grams of fat",price:6.49,image:"",restaurant_name:"Subway"},{name:"6 Subway Club Sub",description:"The perfect combination of thinly sliced turkey breast, tender roast beef, and succulent ham! Satisfies every taste. Contains 4.5 grams of fat.",price:6.59,image:"",restaurant_name:"Subway"},{name:"12 Subway Club Sub",description:"The perfect combination of thinly sliced turkey breast, tender roast beef, and succulent ham! Satisfies every taste. Contains 4.5 grams of fat.",price:9.99,image:"",restaurant_name:"Subway"}],N=[{name:"Courtnay",address:"4194 Dominion St,Burnaby,BC,V5G 1C6",lat:"49.256128",long:"-123.012232",phone_no:"817-681-0289",email:"chawkeswood0@vkontakte.ru"},{name:"Carlen",address:"4360 Beresford St,Burnaby,BC,V5H 0G2",lat:"49.226981",long:"-123.007774",phone_no:"778-727-2099",email:"cdomenichelli1@economist.com"},{name:"Kylen",address:"2133 Douglas Rd,Burnaby,BC,V5C 0E9, 49.264296,-122.991842",phone_no:"604-505-4586",email:"kbentson2@mysql.com"},{name:"Herbie",address:"6688 Arcola St,Burnaby,BC,V5E 0B4",lat:" 49.219039",long:"-122.965729",phone_no:"369-253-5221",email:"hgough3@bbb.org"},{name:"Issy",address:"8066 18th Avenue,Burnaby,BC,V3N 1J8",lat:"49.227500",long:"-122.930111",phone_no:"373-711-2168",email:"ihegarty4@psu.edu"},{name:"Michaelina",address:"7007 Marlborough Avenue,Burnaby,BC,V5J 4G6",lat:"49.219436",long:"-122.991558",phone_no:"921-117-8066",email:"mmutlow5@cdc.gov"},{name:"Kerry",address:"7111 18th Avenue, Burnaby,BC,V3N 1H2,, -122.955665",lat:" 49.214635",long:"-122.991558",phone_no:"746-507-2664",email:"kmarval6@phoca.cz"},{name:"Jeannie",address:"7656 17th Ave, Burnaby,BC,V3N 1L7",lat:"49.221472",long:"-122.939420",phone_no:"729-320-3289",email:"jorneblow7@hibu.com"},{name:"Tobe",address:"9835 King George Blvd, Surrey,BC,T1J 4E1",lat:"49.181111",long:"-122.846641",phone_no:"544-822-6534",email:"thume8@paginegialle.it"},{name:"Cecilio",address:"12905 111 Ave,Surrey,BC,V3T 2R5",lat:"49.204931",long:"-122.864619",phone_no:"321-437-1039",email:"cstow9@google.pl"}],P=function(){function n(t){var n;this._UtilsService=t,this.JSONS=((n={})[e.ENUM_TABLES.restaurant]=L,n[e.ENUM_TABLES.customer]=N,n[e.ENUM_TABLES.meal]=I,n[e.ENUM_TABLES.courier]=j,n)}return n.prototype.convertDummyDataToModel=function(e,n){var a=this;return this.JSONS[e]?t.of().toPromise().then((function(){var t=a.JSONS[e],r=[];return c.map(t,(function(e){var t=new n(e);r.push(t)})),r})):Promise.resolve([])},n.ctorParameters=function(){return[{type:T}]},n.ɵprov=a.ɵɵdefineInjectable({factory:function(){return new n(a.ɵɵinject(T))},token:n,providedIn:"root"}),n=p([a.Injectable({providedIn:"root"})],n)}(),O=function(){function e(){this._Observable_Message=new t.BehaviorSubject(null)}return e.prototype.reset=function(){this._Observable_Message.next(null)},e.prototype.pushMessage=function(e){this._Observable_Message.next(e)},e.prototype.getMessageOservable=function(){return this._Observable_Message},e.ɵprov=a.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([a.Injectable({providedIn:"root"})],e)}(),z=function(){function t(t,n,a){var r;this._AngularFirestore=t,this._DummyDataService=n,this._NotificationService=a,this.TABLES=((r={})[e.ENUM_TABLES.customer]={name:e.ENUM_TABLES.customer,class:_},r[e.ENUM_TABLES.courier]={name:e.ENUM_TABLES.courier,class:v},r[e.ENUM_TABLES.restaurant]={name:e.ENUM_TABLES.restaurant,class:D},r[e.ENUM_TABLES.meal]={name:e.ENUM_TABLES.meal,class:k},r[e.ENUM_TABLES.order]={name:e.ENUM_TABLES.order,class:w},r[e.ENUM_TABLES.delivery]={name:e.ENUM_TABLES.delivery,class:S},r[e.ENUM_TABLES.order_item]={name:e.ENUM_TABLES.order_item,class:M},r[e.ENUM_TABLES.delivery_status_history]={name:e.ENUM_TABLES.delivery_status_history,class:E},r)}return t.prototype.resetDB=function(){return m(this,void 0,void 0,(function(){var e=this;return h(this,(function(t){switch(t.label){case 0:return[4,Promise.all(c.map(this.TABLES,(function(t){return m(e,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.deleteTable(t.name)];case 1:return e.sent(),[2]}}))}))})))];case 1:return t.sent(),[4,Promise.all(c.map(this.TABLES,(function(t){return m(e,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,this.addDB(t)];case 1:return e.sent(),[2]}}))}))})))];case 2:return t.sent(),[4,this.linkRestaurantMealDB()];case 3:return t.sent(),this._NotificationService.pushMessage("All data is reset!!"),[2]}}))}))},t.prototype.linkRestaurantMealDB=function(){return m(this,void 0,void 0,(function(){var t=this;return h(this,(function(n){switch(n.label){case 0:return this._NotificationService.pushMessage("Link Restaurant & Meal data"),[4,this.getRestaurant().then((function(n){t.getMeals().then((function(a){c.map(n,(function(n){n.meal_ids=c.map(c.filter(a,(function(e){return n.name===e.restaurant_name})),(function(e){return e.id})),t._AngularFirestore.collection(t.TABLES[e.ENUM_TABLES.restaurant].name).doc(n.id).set(n.getData())}))}))}))];case 1:return n.sent(),[2]}}))}))},t.prototype.addDB=function(e){var t=this;return this._DummyDataService.convertDummyDataToModel(e.name,e.class).then((function(n){return m(t,void 0,void 0,(function(){var t,a=this;return h(this,(function(r){switch(r.label){case 0:return n?(t=this._AngularFirestore.collection(e.name),[4,Promise.all(c.map(n,(function(n){return m(a,void 0,void 0,(function(){return h(this,(function(a){switch(a.label){case 0:return[4,t.add(n.getData())];case 1:return a.sent(),console.log("add "+e.name),this._NotificationService.pushMessage("add "+e.name),[2]}}))}))})))]):[2];case 1:return[2,r.sent()]}}))}))}))},t.prototype.getCustomer=function(){return this.getDB(this.TABLES[e.ENUM_TABLES.customer]).then((function(e){return e}))},t.prototype.getCourier=function(){return this.getDB(this.TABLES[e.ENUM_TABLES.courier]).then((function(e){return e}))},t.prototype.getDelivery=function(){var t=this;return this.getDB(this.TABLES[e.ENUM_TABLES.delivery]).then((function(e){return e})).then((function(e){return t.getDeliveryStatusHistory().then((function(t){return console.log(t),c.map(e,(function(e){e.setStatusHistory(c.filter(t,(function(t){return t.delivery_id===e.id})))})),e}))}))},t.prototype.getDeliveryStatusHistory=function(){return this.getDB(this.TABLES[e.ENUM_TABLES.delivery_status_history]).then((function(e){return e}))},t.prototype.getRestaurant=function(){var t=this;return this.getDB(this.TABLES[e.ENUM_TABLES.restaurant]).then((function(e){return t.getMeals().then((function(t){return c.map(e,(function(e){e.meals=c.filter(t,(function(t){return e.meal_ids.indexOf(t.id)>=0}))})),e}))}))},t.prototype.getMeals=function(){return this.getDB(this.TABLES[e.ENUM_TABLES.meal]).then((function(e){return e}))},t.prototype.getOrderItems=function(t){return m(this,void 0,void 0,(function(){var n=this;return h(this,(function(a){return[2,this.getDB(this.TABLES[e.ENUM_TABLES.order_item],t).then((function(e){return e})).then((function(t){return c.map(t,(function(t){return m(n,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return[4,this.getDBWithId(this.TABLES[e.ENUM_TABLES.meal],t.meal_id).then((function(e){t.meal=e}))];case 1:return n.sent(),[2]}}))}))})),t}))]}))}))},t.prototype.getOrder=function(){return m(this,void 0,void 0,(function(){var t=this;return h(this,(function(n){return[2,this.getDB(this.TABLES[e.ENUM_TABLES.order]).then((function(e){return e})).then((function(n){return n=n,c.map(n,(function(n){return m(t,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.getDBWithId(this.TABLES[e.ENUM_TABLES.customer],n.customer_id).then((function(e){n.customer=e}))];case 1:return t.sent(),[4,this.getOrderItems([new C("order_id",C.OPERATIONS.EQUAL,n.id)]).then((function(e){n.items=e}))];case 2:return t.sent(),[4,this.getDBWithId(this.TABLES[e.ENUM_TABLES.restaurant],n.restaurant_id).then((function(e){n.restaurant=e}))];case 3:return t.sent(),[2]}}))}))})),n}))]}))}))},t.prototype.getDB=function(e,t,n){var a=this;return this._AngularFirestore.collection(e.name,(function(e){var n=null;return t&&c.map(t,(function(t){n=n?n.where(t.key,t.operation,t.value):e.where(t.key,t.operation,t.value)})),n||e})).snapshotChanges().pipe(o.map((function(e){return e.map((function(e){var t=e.payload.doc.data(),n=e.payload.doc.id;return t.id=n,t}))})),o.map((function(e){return c.filter(e,(function(e){return n?e.id===n:e}))}))).pipe(o.tap(),o.first()).toPromise().then((function(t){return a.convertToClassObject(t,e.class)}))},t.prototype.getDBWithId=function(e,t){var n=this;return this._AngularFirestore.doc(e.name+"/"+t).snapshotChanges().pipe(o.map((function(e){var t=e.payload.data(),n=e.payload.id;return t.id=n,t}))).pipe(o.tap(),o.first()).toPromise().then((function(t){var a=n.convertToClassObject([t],e.class);return a.length?a[0]:null}))},t.prototype.convertToClassObject=function(e,t){var n=[];return c.map(e,(function(e){var a=new t(e);n.push(a)})),n},t.prototype.createWithObject=function(e){var t=this,n=this._AngularFirestore.createId();return this._AngularFirestore.collection(this.getTable(e.constructor.name)).doc(n).set(e.getData()).then((function(){e.id=n,t._NotificationService.pushMessage("Created "+e.constructor.name)}))},t.prototype.updateWithObject=function(e){this._AngularFirestore.collection(this.getTable(e.constructor.name)).doc(e.id).update(e.getData())},t.prototype.getTable=function(e){return c.find(this.TABLES,(function(t){return t.class.name===e})).name},t.prototype.deleteOrder=function(){return this.deleteTable(this.TABLES[e.ENUM_TABLES.order].name)},t.prototype.deleteOrderItem=function(){return this.deleteTable(this.TABLES[e.ENUM_TABLES.order_item].name)},t.prototype.deleteDelivery=function(){return this.deleteTable(this.TABLES[e.ENUM_TABLES.delivery].name)},t.prototype.deleteTable=function(e){var t=this;return this._AngularFirestore.collection(e).get().toPromise().then((function(n){return n.forEach((function(n){return m(t,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,n.ref.delete()];case 1:return t.sent(),console.log("delete "+e),this._NotificationService.pushMessage("delete "+e),[2]}}))}))}))}))},t.ctorParameters=function(){return[{type:i.AngularFirestore},{type:P},{type:O}]},t.ɵprov=a.ɵɵdefineInjectable({factory:function(){return new t(a.ɵɵinject(i.AngularFirestore),a.ɵɵinject(P),a.ɵɵinject(O))},token:t,providedIn:"root"}),t=p([a.Injectable({providedIn:"root"})],t)}(),H=function(){function t(e,t){this._FirebaseDataService=e,this._NotificationService=t}return t.prototype.start=function(){return m(this,void 0,void 0,(function(){return h(this,(function(e){return[2]}))}))},t.prototype.stop=function(){},t.prototype.generateOrder=function(e){return void 0===e&&(e=1),m(this,void 0,void 0,(function(){var t=this;return h(this,(function(n){return this._NotificationService.pushMessage("generate "+e+" order"),[2,Promise.all([this._FirebaseDataService.getCustomer(),this._FirebaseDataService.getRestaurant(),this._FirebaseDataService.getCourier()]).then((function(n){var a=f(n,3),r=a[0],i=a[1],o=a[2];return m(t,void 0,void 0,(function(){var t;return h(this,(function(n){switch(n.label){case 0:t=0,n.label=1;case 1:return t<e?[4,this.generateOneOrder(r,i,o)]:[3,4];case 2:n.sent(),n.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}))]}))}))},t.prototype.generateOneOrder=function(t,n,a){return m(this,void 0,void 0,(function(){var r,i,o,c,u,l,d,p;return h(this,(function(m){switch(m.label){case 0:return r=this.getRandom(t),i=this.getRandom(n),o=this.getRandom(i.meals),c=this.getRandom(a),u=new w({date_time:(new Date).getTime(),restaurant_id:i.id,customer_id:r.id}),[4,this._FirebaseDataService.createWithObject(u)];case 1:return m.sent(),(l=new M({meal_id:o.id,quantity:this.getRandom(5),order_id:u.id})).meal=o,l.order=u,[4,this._FirebaseDataService.createWithObject(l)];case 2:return m.sent(),u.total+=l.meal.price*l.quantity,this._FirebaseDataService.updateWithObject(u),d=new S({points:[],courier_id:c.id,order_id:u.id}),[4,this._FirebaseDataService.createWithObject(d)];case 3:return m.sent(),p=new E({status:e.Delivery_Status.ORDERED,delivery_id:d.id,date_time:s().valueOf()}),[4,this._FirebaseDataService.createWithObject(p)];case 4:return m.sent(),[2]}}))}))},t.prototype.getRandom=function(e){return isNaN(Number(e))?(e=e)[c.random(0,e.length-1)]:c.random(0,e)+1},t.ctorParameters=function(){return[{type:z},{type:O}]},t.ɵprov=a.ɵɵdefineInjectable({factory:function(){return new t(a.ɵɵinject(z),a.ɵɵinject(O))},token:t,providedIn:"root"}),t=p([a.Injectable({providedIn:"root"})],t)}(),R=function(){function e(){}return e.prototype.testString=function(){return"Hello"},e.ɵprov=a.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([a.Injectable({providedIn:"root"})],e)}(),U=function(){function e(){}return e.prototype.ngOnInit=function(){},e=p([a.Component({selector:"lib-library-app",template:"\n    <p>\n      library-app works!\n    </p>\n  "})],e)}(),V=function(){function e(){}return e=p([a.NgModule({declarations:[U],imports:[],exports:[U]})],e)}(),x=function(){function e(){}return e.prototype.testString=function(){return"Hello Test App"},e.ɵprov=a.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([a.Injectable({providedIn:"root"})],e)}();e.Courier=v,e.Customer=_,e.DefaultComponent=b,e.DefaultModel=y,e.Delivery=S,e.DeliveryStatusHistory=E,e.DummyDataService=P,e.FirebaseDataService=z,e.LibraryAppComponent=U,e.LibraryAppModule=V,e.LibraryAppService=R,e.Meal=k,e.NotificationService=O,e.Order=w,e.OrderItem=M,e.Point=A,e.QueryParamModel=C,e.Restaurant=D,e.SimulatorDataService=H,e.TestAppService=x,e.UtilsService=T,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=library-app.umd.min.js.map