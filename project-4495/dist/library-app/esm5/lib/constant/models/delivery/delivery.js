import { __extends } from "tslib";
import { DefaultModel } from "../default-model";
import * as _ from 'lodash';
var Delivery = /** @class */ (function (_super) {
    __extends(Delivery, _super);
    function Delivery(data) {
        var _this = _super.call(this, data) || this;
        _this.id = '';
        _this.points = [];
        _this.courier_id = '';
        _this.order_id = '';
        _this.status_history = [];
        _this.currentStatus = null;
        _this.timeToNextStatus = 0;
        _super.prototype.copyInto.call(_this, data);
        return _this;
    }
    Delivery.prototype.setStatusHistory = function (histories) {
        this.status_history = histories;
        this.currentStatus = _.maxBy(histories, function (x) { return x.date_time; });
    };
    return Delivery;
}(DefaultModel));
export { Delivery };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsaXZlcnkuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9saWJyYXJ5LWFwcC8iLCJzb3VyY2VzIjpbImxpYi9jb25zdGFudC9tb2RlbHMvZGVsaXZlcnkvZGVsaXZlcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxrQkFBa0IsQ0FBQztBQUc5QyxPQUFPLEtBQUssQ0FBQyxNQUFNLFFBQVEsQ0FBQztBQU01QjtJQUE4Qiw0QkFBWTtJQWdCeEMsa0JBQVksSUFBUztRQUFyQixZQUNFLGtCQUFNLElBQUksQ0FBQyxTQUVaO1FBbEJELFFBQUUsR0FBVyxFQUFFLENBQUM7UUFDaEIsWUFBTSxHQUFZLEVBQUUsQ0FBQztRQUNyQixnQkFBVSxHQUFXLEVBQUUsQ0FBQztRQUN4QixjQUFRLEdBQVcsRUFBRSxDQUFDO1FBQ3RCLG9CQUFjLEdBQTRCLEVBQUUsQ0FBQztRQUM3QyxtQkFBYSxHQUEwQixJQUFJLENBQUM7UUFDNUMsc0JBQWdCLEdBQVcsQ0FBQyxDQUFDO1FBVzNCLGlCQUFNLFFBQVEsYUFBQyxJQUFJLENBQUMsQ0FBQzs7SUFDdkIsQ0FBQztJQUVELG1DQUFnQixHQUFoQixVQUFpQixTQUFrQztRQUNqRCxJQUFJLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQztRQUNoQyxJQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLFVBQUMsQ0FBd0IsSUFBSyxPQUFBLENBQUMsQ0FBQyxTQUFTLEVBQVgsQ0FBVyxDQUFDLENBQUM7SUFDckYsQ0FBQztJQUVILGVBQUM7QUFBRCxDQUFDLEFBMUJELENBQThCLFlBQVksR0EwQnpDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtEZWZhdWx0TW9kZWx9IGZyb20gXCIuLi9kZWZhdWx0LW1vZGVsXCI7XHJcbmltcG9ydCB7UG9pbnR9IGZyb20gXCIuLi9wb2ludC9wb2ludFwiO1xyXG5pbXBvcnQge0RlbGl2ZXJ5U3RhdHVzSGlzdG9yeX0gZnJvbSBcIi4vZGVsaXZlcnktc3RhdHVzLWhpc3RvcnlcIjtcclxuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQge09yZGVyfSBmcm9tIFwiLi4vb3JkZXIvb3JkZXJcIjtcclxuaW1wb3J0IHtDb3VyaWVyfSBmcm9tIFwiLi4vY291cmllci9jb3VyaWVyXCI7XHJcbmltcG9ydCB7UmVzdGF1cmFudH0gZnJvbSBcIi4uL3Jlc3RhdXJhbnQvcmVzdGF1cmFudFwiO1xyXG5pbXBvcnQge0N1c3RvbWVyfSBmcm9tIFwiLi4vY3VzdG9tZXIvY3VzdG9tZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEZWxpdmVyeSBleHRlbmRzIERlZmF1bHRNb2RlbCB7XHJcbiAgaWQ6IHN0cmluZyA9ICcnO1xyXG4gIHBvaW50czogUG9pbnRbXSA9IFtdO1xyXG4gIGNvdXJpZXJfaWQ6IHN0cmluZyA9ICcnO1xyXG4gIG9yZGVyX2lkOiBzdHJpbmcgPSAnJztcclxuICBzdGF0dXNfaGlzdG9yeTogRGVsaXZlcnlTdGF0dXNIaXN0b3J5W10gPSBbXTtcclxuICBjdXJyZW50U3RhdHVzOiBEZWxpdmVyeVN0YXR1c0hpc3RvcnkgPSBudWxsO1xyXG4gIHRpbWVUb05leHRTdGF0dXM6IG51bWJlciA9IDA7XHJcblxyXG4gIG9yZGVyOiBPcmRlcjtcclxuICBjb3VyaWVyOiBDb3VyaWVyO1xyXG4gIHJlc3RhdXJhbnQ6IFJlc3RhdXJhbnQ7XHJcbiAgY3VzdG9tZXI6IEN1c3RvbWVyO1xyXG4gIHBhdGhfdG9fcmVzdGF1cmFudDogYW55W107XHJcbiAgcGF0aF90b19jdXN0b21lcjogYW55W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKGRhdGE6IGFueSkge1xyXG4gICAgc3VwZXIoZGF0YSk7XHJcbiAgICBzdXBlci5jb3B5SW50byhkYXRhKTtcclxuICB9XHJcblxyXG4gIHNldFN0YXR1c0hpc3RvcnkoaGlzdG9yaWVzOiBEZWxpdmVyeVN0YXR1c0hpc3RvcnlbXSkge1xyXG4gICAgdGhpcy5zdGF0dXNfaGlzdG9yeSA9IGhpc3RvcmllcztcclxuICAgIHRoaXMuY3VycmVudFN0YXR1cyA9IF8ubWF4QnkoaGlzdG9yaWVzLCAoeDogRGVsaXZlcnlTdGF0dXNIaXN0b3J5KSA9PiB4LmRhdGVfdGltZSk7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuIl19